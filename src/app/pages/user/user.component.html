

  <div class="wrapperOuter">
    <h2 class="title">User Management</h2>
  <div class="row1">
   
 
  <mat-form-field class="search-query" >
    <input
      matInput
     type="text"
      (keyup)="applyFilter($event)" placeholder="Ex. santu" #input
     style="margin-left: 5px;"
    />
    <button   *ngIf="input.value" matSuffix mat-icon-button aria-label="Clear" (click)="onclear(input)">
      <mat-icon color="primary">close</mat-icon>
    </button>
  </mat-form-field>

 </div>

  <div class="mat-elevation-z8">
   
    <table mat-table  matSort [dataSource]="dataSource" >

    <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->
  
    <!-- Position Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell  *matHeaderCellDef  mat-sort-header>#</th>
      <!-- <td mat-cell *matCellDef="let element ;let i=index"> {{i+1}}</td> -->
      <td mat-cell *matCellDef="let element; let i = index"> {{ getAdjustedIndex(i+1) }}</td>
    </ng-container>
   
    <ng-container matColumnDef="image">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Image</th>
      <td mat-cell *matCellDef="let element">
        <ng-container *ngIf="element.profile_image">
          <img src="{{ element.profile_image }}" alt="Profile Image">
        </ng-container>
        <ng-container *ngIf="!element.profile_image">
          <ngx-avatars [size]="50" [name]="element.firstName + ' ' + element.lastName" bgColor="#3366FF"></ngx-avatars>
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="firstName">
      <th mat-header-cell  *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let element">{{element.firstName}}&nbsp;{{element.lastName}}</td>
    </ng-container>
   

   
    
  
    <!-- Weight Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
      <td mat-cell *matCellDef="let element"> {{element.email}} </td>
    </ng-container>
    <ng-container matColumnDef="phoneNumber">
      <th mat-header-cell mat-sort-header *matHeaderCellDef mat-sort-header>Mobile</th>
      <td mat-cell *matCellDef="let element"> {{element.phoneNumber}} </td>
    </ng-container>
    <ng-container matColumnDef="block">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
      <td mat-cell *matCellDef="let element">  <div class="option_b">
       
        <button mat-icon-button color="warn" *ngIf="element.isDelete==true" >
          <mat-icon aria-hidden="false" aria-label="Block" fontIcon="block"></mat-icon>
        </button>
        <button mat-icon-button color="primary" *ngIf="element.isDelete==false" >
          <mat-icon style="color: rgb(71, 235, 134);">done_outline</mat-icon>
        </button>
      </div> </td>

    </ng-container>
    <!-- <ng-container matColumnDef="isEmailVerified ">
      <th mat-header-cell *matHeaderCellDef>Email Verified</th>
      <td mat-cell *matCellDef="let element"> {{element.isEmailVerified }} </td>
    </ng-container> -->
    <ng-container matColumnDef="address">
      <th mat-header-cell *matHeaderCellDef>Address</th>
      <td mat-cell *matCellDef="let element"> {{element.address}} </td>
    </ng-container>
    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let element"> 
        <div class="option_b" *ngIf="element.isDelete==false">
         
            <!-- <mat-icon class="actionBtn" aria-hidden="false" color="accent" aria-label="visibility icon" fontIcon="visibility" [matMenuTriggerFor]="menu"></mat-icon> -->
            <mat-icon [matMenuTriggerFor]="menu">more_vert</mat-icon>
            <mat-menu #menu="matMenu">
              <button mat-menu-item [routerLink]="['/main/users/edituser',element.id]">Edit</button>
     
              <button mat-menu-item (click)="onBlock(element)">Block</button>
            </mat-menu>
    
      </div>
      <div class="option_b" *ngIf="element.isDelete==true">
         
        <!-- <mat-icon class="actionBtn" aria-hidden="false" color="accent" aria-label="visibility icon" fontIcon="visibility" [matMenuTriggerFor]="menu"></mat-icon> -->
        <mat-icon [matMenuTriggerFor]="menu">more_vert</mat-icon>
        <mat-menu #menu="matMenu">
     
 
          <button mat-menu-item (click)="onunBlock(element)">UNBLOCK</button>
        </mat-menu>

  </div>
      </td>
    </ng-container>
    <!-- Symbol Column -->
 
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" [class.deleted-row]="row.isDelete" [class.active-row]="!row.isDelete"></tr>

  </table>
  <mat-paginator #paginator  showFirstLastButtons [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" (page)="onPageChange($event)"></mat-paginator>

  
  </div>
  </div>
